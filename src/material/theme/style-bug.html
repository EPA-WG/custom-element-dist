<!DOCTYPE html>
<html lang="en"
      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:xhtml="http://www.w3.org/1999/xhtml"
      xmlns:exslt="http://exslt.org/common"
>
<head>
    <meta charset="UTF-8">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <title>Components - custom-element - Material Design</title>
    <link href="../../custom-element/demo/wc-square.svg" rel="icon"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
          integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" rel="stylesheet"/>

    <script type="importmap">
        {
          "imports": {
            "@epa-wg/": "../../"
          }
        }
    </script>
    <script src="../../custom-element/module-url.js" type="module"></script>
    <script src="../../custom-element/custom-element.js" type="module"></script>
    <style>
        @import "../angular.css";
        @import "../material.css";
        @import "../theme/semantic.css";
        @import "../theme/consumer-theme.css";
        @import "../demo.css";
        main{
            display: flex; flex-wrap: wrap;
            gap: 3rem;
            padding: 5rem;
            &>p{ min-width: 90%; }
            html-demo-element
            {   overflow: visible;
                [slot="legend"]{ border-radius: 1rem 1rem 0 0; }
                [slot="description"]{ padding: 0 1rem 1rem 1rem; dd{ padding: 0 !important;margin: 0; }}
                [slot="description"] dd{ padding: 0; }
            }
            var{ color: darkgreen; font-weight: bold; }
        }
        cem-icon{ margin: 1rem; }
    </style>
    <script type="module" src="./colors.js"></script>
</head>
<!--
ToDO
* docs w/ how to use
-->
<body>

<main>

<section>
    <custom-element>
        <template>
            <style>
                header{ display: flex; gap: 2rem; align-items: center; label{ display: flex;}}
            </style>
            <variable name="cem-emotions">
                <option value="comfort"       warmth="cool"    sample="white"  system="Canvas"     text="CanvasText"    >light scene color, the scene is full of object &#10; Purity, innocence, cleanliness, peace,  coldness or emptiness </option>
                <option value="calm"          warmth="cool"    sample="black"  system="CanvasText" text="Canvas"        >dark scene color, few objects around           &#10; Mystery, elegance, power, evil, mourning, formality, security  </option>
                <option value="trust"         warmth="cool"    sample="blue"   system="Highlight"  text="HighlightText" >primary action background, text color for `focus-invert`             </option>
                <option value="danger"        warmth="warm"    sample="red"    system="red"        text="CanvasText"    >Passion, excitement, love, anger, energy, danger                     </option>
                <option value="creativity"    warmth="cool"    sample="cyan"   system="ButtonFace" text="ButtonText"    >Luxury, creativity, royalty, mystery, but also grief or melancholy   </option>
                <option value="enthusiasm"    warmth="warm"    sample="orange" system="Mark"       text="MarkText"      >Warmth, enthusiasm, happiness, optimism, energy                      </option>
                <option value="conservative"  warmth="neutral" sample="brown"  system="GrayText"   text="CanvasText"    >Natural, earthy, conservative, but also bland or boring              </option>
            </variable>
            <variable name="cem-media" select="//*[starts-with(./*/@dce-object-name, '--cem-palette-')]"></variable>

//*[starts-with(./*/@dce-object-name, '--cem-palette-')] {//*[starts-with(./*/@dce-object-name, '--cem-palette-')]} <br/>
count (//*[starts-with(./*/@dce-object-name, '--cem-palette-')]) { count (//*[starts-with(./*/@dce-object-name, '--cem-palette-')]) } <br/>
count (//*[@dce-object-name]) { count (//*[@dce-object-name])  } <br/>
  (//*[@dce-object-name]) {   (//*[@dce-object-name])/@dce-object-name } <br/>
            <cem-css-rules slice="rules"></cem-css-rules>

            <h1>Base cem-palette tokens </h1>
            <xhtml:table>
                <xhtml:thead>
                    <xhtml:tr>
                        <xhtml:th > </xhtml:th>
                        <for-each select="exsl:node-set($cem-emotions)/*">
                            <xhtml:th style="min-width:6rem">{@value}</xhtml:th>
                        </for-each>
                    </xhtml:tr>
                </xhtml:thead>
                <xhtml:tbody>
                <for-each select="$cem-media">
                    <xhtml:tr>
                        <variable name="media" select="."></variable>
                        <xhtml:td>{@dce-object-name}</xhtml:td>
                        <for-each select="exsl:node-set($cem-emotions)/*">
                            <variable name="css-background-name" select=" concat('--cem-palette-', @value) "></variable>
                            <variable name="css-text-name" select=" concat(concat('--cem-palette-', @value), '-text') "></variable>
                            <xhtml:td style="
                                        background-color: { $media/*[@dce-object-name = $css-background-name ]};
                                        color: { $media/*[@dce-object-name = $css-text-name ]};
                                        font-size:x-small;
                                        padding:0.5em"
                                        title="
{$css-background-name}: {$media/*[@dce-object-name = $css-background-name ]}
{$css-text-name}: { $media/*[@dce-object-name = $css-text-name ]}
{@value} : {.}"
                                >{$media/*[@dce-object-name = $css-background-name ]}
                            <br/>
                                { $media/*[@dce-object-name = $css-text-name ]}
                            </xhtml:td>
                        </for-each>
                    </xhtml:tr>
                </for-each>
                </xhtml:tbody>
            </xhtml:table>
            {count($cem-media)}
        </template>
    </custom-element>

</section>

</main>
</body>
</html>